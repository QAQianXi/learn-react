import{bu as e,bq as t,b5 as n,an as o,b2 as r,ax as a,aq as i,r as d,G as s,b4 as c,p as l,X as p,Y as u,Z as f,cf as h,$ as v,J as g,b3 as y,ao as k,K as m,aj as K,A as N,bZ as b,B as x,at as E,aa as C,D as S,b6 as D,aN as w,aV as P,ad as O}from"./index-b1b3d88f.js";import{L}from"./List-7bacef27.js";import{g as T}from"./index-dae9ddf3.js";function $(e,t){return e[t]}function M(e,t){var n=new Set;return e.forEach((function(e){t.has(e)||n.add(e)})),n}function I(e){var t=e||{},n=t.disabled,o=t.disableCheckbox,r=t.checkable;return!(!n&&!o)||!1===r}function A(t,n,o,r){var a,i=[];a=r||I;var d,s=new Set(t.filter((function(e){var t=!!$(o,e);return t||i.push(e),t}))),c=new Map,l=0;return Object.keys(o).forEach((function(e){var t=o[e],n=t.level,r=c.get(n);r||(r=new Set,c.set(n,r)),r.add(t),l=Math.max(l,n)})),e(!i.length,"Tree missing follow keys: ".concat(i.slice(0,100).map((function(e){return"'".concat(e,"'")})).join(", "))),d=!0===n?function(e,t,n,o){for(var r=new Set(e),a=new Set,i=0;i<=n;i+=1)(t.get(i)||new Set).forEach((function(e){var t=e.key,n=e.node,a=e.children,i=void 0===a?[]:a;r.has(t)&&!o(n)&&i.filter((function(e){return!o(e.node)})).forEach((function(e){r.add(e.key)}))}));for(var d=new Set,s=n;s>=0;s-=1)(t.get(s)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!o(n)&&e.parent&&!d.has(e.parent.key))if(o(e.parent.node))d.add(t.key);else{var i=!0,s=!1;(t.children||[]).filter((function(e){return!o(e.node)})).forEach((function(e){var t=e.key,n=r.has(t);i&&!n&&(i=!1),s||!n&&!a.has(t)||(s=!0)})),i&&r.add(t.key),s&&a.add(t.key),d.add(t.key)}}));return{checkedKeys:Array.from(r),halfCheckedKeys:Array.from(M(a,r))}}(s,c,l,a):function(e,t,n,o,r){for(var a=new Set(e),i=new Set(t),d=0;d<=o;d+=1)(n.get(d)||new Set).forEach((function(e){var t=e.key,n=e.node,o=e.children,d=void 0===o?[]:o;a.has(t)||i.has(t)||r(n)||d.filter((function(e){return!r(e.node)})).forEach((function(e){a.delete(e.key)}))}));i=new Set;for(var s=new Set,c=o;c>=0;c-=1)(n.get(c)||new Set).forEach((function(e){var t=e.parent,n=e.node;if(!r(n)&&e.parent&&!s.has(e.parent.key))if(r(e.parent.node))s.add(t.key);else{var o=!0,d=!1;(t.children||[]).filter((function(e){return!r(e.node)})).forEach((function(e){var t=e.key,n=a.has(t);o&&!n&&(o=!1),d||!n&&!i.has(t)||(d=!0)})),o||a.delete(t.key),d&&i.add(t.key),s.add(t.key)}}));return{checkedKeys:Array.from(a),halfCheckedKeys:Array.from(M(i,a))}}(s,n.halfCheckedKeys,c,l,a),d}var R=["children"];function H(e,t){return"".concat(e,"-").concat(t)}function B(e,t){return null!=e?e:t}function j(e){var t=e||{},n=t.title||"title";return{title:n,_title:t._title||[n],key:t.key||"key",children:t.children||"children"}}function G(t){return function t(a){return o(a).map((function(o){if(!function(e){return e&&e.type&&e.type.isTreeNode}(o))return e(!o,"Tree/TreeNode can only accept TreeNode as children."),null;var a=o.key,i=o.props,d=i.children,s=r(i,R),c=n({key:a},s),l=t(d);return l.length&&(c.children=l),c})).filter((function(e){return e}))}(t)}function U(e,t,o){var r=j(o),d=r._title,s=r.key,c=r.children,l=new Set(!0===t?[]:t),p=[];return function e(o){var r=arguments.length>1&&void 0!==arguments[1]?arguments[1]:null;return o.map((function(u,f){for(var h,v=H(r?r.pos:"0",f),g=B(u[s],v),y=0;y<d.length;y+=1){var k=d[y];if(void 0!==u[k]){h=u[k];break}}var m=n(n({},i(u,[].concat(a(d),[s,c]))),{},{title:h,key:g,parent:r,pos:v,children:null,data:u,isStart:[].concat(a(r?r.isStart:[]),[0===f]),isEnd:[].concat(a(r?r.isEnd:[]),[f===o.length-1])});return p.push(m),!0===t||l.has(g)?m.children=e(u[c]||[],m):m.children=[],m}))}(e),p}function z(e){var n=arguments.length>1&&void 0!==arguments[1]?arguments[1]:{},o=n.initWrapper,r=n.processEntity,i=n.onProcessFinished,d=n.externalGetKey,s=n.childrenPropName,c=n.fieldNames,l=d||(arguments.length>2?arguments[2]:void 0),p={},u={},f={posEntities:p,keyEntities:u};return o&&(f=o(f)||f),function(e,n,o){var r,i=("object"===t(o)?o:{externalGetKey:o})||{},d=i.childrenPropName,s=i.externalGetKey,c=j(i.fieldNames),l=c.key,p=c.children,u=d||p;s?"string"==typeof s?r=function(e){return e[s]}:"function"==typeof s&&(r=function(e){return s(e)}):r=function(e,t){return B(e[l],t)},function t(o,i,d,s){var c=o?o[u]:e,l=o?H(d.pos,i):"0",p=o?[].concat(a(s),[o]):[];if(o){var f=r(o,l),h={node:o,index:i,pos:l,key:f,parentPos:d.node?d.pos:null,level:d.level+1,nodes:p};n(h)}c&&c.forEach((function(e,n){t(e,n,{node:o,pos:l,level:d?d.level+1:-1},p)}))}(null)}(e,(function(e){var t=e.node,n=e.index,o=e.pos,a=e.key,i=e.parentPos,d=e.level,s={node:t,nodes:e.nodes,index:n,key:a,pos:o,level:d},c=B(a,o);p[o]=s,u[c]=s,s.parent=p[i],s.parent&&(s.parent.children=s.parent.children||[],s.parent.children.push(s)),r&&r(s,f)}),{externalGetKey:l,childrenPropName:s,fieldNames:c}),i&&i(f),f}function _(e,t){var n=t.expandedKeys,o=t.selectedKeys,r=t.loadedKeys,a=t.loadingKeys,i=t.checkedKeys,d=t.halfCheckedKeys,s=t.dragOverNodeKey,c=t.dropPosition,l=$(t.keyEntities,e);return{eventKey:e,expanded:-1!==n.indexOf(e),selected:-1!==o.indexOf(e),loaded:-1!==r.indexOf(e),loading:-1!==a.indexOf(e),checked:-1!==i.indexOf(e),halfChecked:-1!==d.indexOf(e),pos:String(l?l.pos:""),dragOver:s===e&&0===c,dragOverGapTop:s===e&&-1===c,dragOverGapBottom:s===e&&1===c}}function F(t){var o=t.data,r=t.expanded,a=t.selected,i=t.checked,d=t.loaded,s=t.loading,c=t.halfChecked,l=t.dragOver,p=t.dragOverGapTop,u=t.dragOverGapBottom,f=t.pos,h=t.active,v=t.eventKey,g=n(n({},o),{},{expanded:r,selected:a,checked:i,loaded:d,loading:s,halfChecked:c,dragOver:l,dragOverGapTop:p,dragOverGapBottom:u,pos:f,active:h,key:v});return"props"in g||Object.defineProperty(g,"props",{get:function(){return e(!1,"Second param return from event is node data instead of TreeNode instance. Please read value directly instead of reading from `props`."),t}}),g}var W=d.createContext(null);function q(e){if(null==e)throw new TypeError("Cannot destructure "+e)}var V=function(e){for(var t=e.prefixCls,n=e.level,o=e.isStart,r=e.isEnd,a="".concat(t,"-indent-unit"),i=[],l=0;l<n;l+=1){var p;i.push(d.createElement("span",{key:l,className:s(a,(p={},c(p,"".concat(a,"-start"),o[l]),c(p,"".concat(a,"-end"),r[l]),p))}))}return d.createElement("span",{"aria-hidden":"true",className:"".concat(t,"-indent")},i)};const X=d.memo(V);var Y=["eventKey","className","style","dragOver","dragOverGapTop","dragOverGapBottom","isLeaf","isStart","isEnd","expanded","selected","checked","halfChecked","loading","domRef","active","data","onMouseMove","selectable"],Z="open",J="close",Q=function(e){p(o,e);var t=u(o);function o(){var e;f(this,o);for(var r=arguments.length,a=new Array(r),i=0;i<r;i++)a[i]=arguments[i];return(e=t.call.apply(t,[this].concat(a))).state={dragNodeHighlight:!1},e.selectHandle=void 0,e.cacheIndent=void 0,e.onSelectorClick=function(t){(0,e.props.context.onNodeClick)(t,F(e.props)),e.isSelectable()?e.onSelect(t):e.onCheck(t)},e.onSelectorDoubleClick=function(t){(0,e.props.context.onNodeDoubleClick)(t,F(e.props))},e.onSelect=function(t){e.isDisabled()||(0,e.props.context.onNodeSelect)(t,F(e.props))},e.onCheck=function(t){if(!e.isDisabled()){var n=e.props,o=n.disableCheckbox,r=n.checked,a=e.props.context.onNodeCheck;if(e.isCheckable()&&!o){var i=!r;a(t,F(e.props),i)}}},e.onMouseEnter=function(t){(0,e.props.context.onNodeMouseEnter)(t,F(e.props))},e.onMouseLeave=function(t){(0,e.props.context.onNodeMouseLeave)(t,F(e.props))},e.onContextMenu=function(t){(0,e.props.context.onNodeContextMenu)(t,F(e.props))},e.onDragStart=function(t){var n=e.props.context.onNodeDragStart;t.stopPropagation(),e.setState({dragNodeHighlight:!0}),n(t,h(e));try{t.dataTransfer.setData("text/plain","")}catch(o){}},e.onDragEnter=function(t){var n=e.props.context.onNodeDragEnter;t.preventDefault(),t.stopPropagation(),n(t,h(e))},e.onDragOver=function(t){var n=e.props.context.onNodeDragOver;t.preventDefault(),t.stopPropagation(),n(t,h(e))},e.onDragLeave=function(t){var n=e.props.context.onNodeDragLeave;t.stopPropagation(),n(t,h(e))},e.onDragEnd=function(t){var n=e.props.context.onNodeDragEnd;t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,h(e))},e.onDrop=function(t){var n=e.props.context.onNodeDrop;t.preventDefault(),t.stopPropagation(),e.setState({dragNodeHighlight:!1}),n(t,h(e))},e.onExpand=function(t){var n=e.props,o=n.loading,r=n.context.onNodeExpand;o||r(t,F(e.props))},e.setSelectHandle=function(t){e.selectHandle=t},e.getNodeState=function(){var t=e.props.expanded;return e.isLeaf()?null:t?Z:J},e.hasChildren=function(){var t=e.props.eventKey;return!!(($(e.props.context.keyEntities,t)||{}).children||[]).length},e.isLeaf=function(){var t=e.props,n=t.isLeaf,o=t.loaded,r=e.props.context.loadData,a=e.hasChildren();return!1!==n&&(n||!r&&!a||r&&o&&!a)},e.isDisabled=function(){var t=e.props.disabled;return!(!e.props.context.disabled&&!t)},e.isCheckable=function(){var t=e.props.checkable,n=e.props.context.checkable;return!(!n||!1===t)&&n},e.syncLoadData=function(t){var n=t.expanded,o=t.loading,r=t.loaded,a=e.props.context,i=a.loadData,d=a.onNodeLoad;o||i&&n&&!e.isLeaf()&&(e.hasChildren()||r||d(F(e.props)))},e.isDraggable=function(){var t=e.props,n=t.data,o=t.context.draggable;return!(!o||o.nodeDraggable&&!o.nodeDraggable(n))},e.renderDragHandler=function(){var t=e.props.context,n=t.draggable,o=t.prefixCls;return(null==n?void 0:n.icon)?d.createElement("span",{className:"".concat(o,"-draggable-icon")},n.icon):null},e.renderSwitcherIconDom=function(t){var o=e.props.switcherIcon,r=e.props.context.switcherIcon,a=o||r;return"function"==typeof a?a(n(n({},e.props),{},{isLeaf:t})):a},e.renderSwitcher=function(){var t=e.props.expanded,n=e.props.context.prefixCls;if(e.isLeaf()){var o=e.renderSwitcherIconDom(!0);return!1!==o?d.createElement("span",{className:s("".concat(n,"-switcher"),"".concat(n,"-switcher-noop"))},o):null}var r=s("".concat(n,"-switcher"),"".concat(n,"-switcher_").concat(t?Z:J)),a=e.renderSwitcherIconDom(!1);return!1!==a?d.createElement("span",{onClick:e.onExpand,className:r},a):null},e.renderCheckbox=function(){var t=e.props,n=t.checked,o=t.halfChecked,r=t.disableCheckbox,a=e.props.context.prefixCls,i=e.isDisabled(),c=e.isCheckable();if(!c)return null;var l="boolean"!=typeof c?c:null;return d.createElement("span",{className:s("".concat(a,"-checkbox"),n&&"".concat(a,"-checkbox-checked"),!n&&o&&"".concat(a,"-checkbox-indeterminate"),(i||r)&&"".concat(a,"-checkbox-disabled")),onClick:e.onCheck},l)},e.renderIcon=function(){var t=e.props.loading,n=e.props.context.prefixCls;return d.createElement("span",{className:s("".concat(n,"-iconEle"),"".concat(n,"-icon__").concat(e.getNodeState()||"docu"),t&&"".concat(n,"-icon_loading"))})},e.renderSelector=function(){var t,n,o=e.state.dragNodeHighlight,r=e.props,a=r.title,i=void 0===a?"---":a,c=r.selected,l=r.icon,p=r.loading,u=r.data,f=e.props.context,h=f.prefixCls,v=f.showIcon,g=f.icon,y=f.loadData,k=f.titleRender,m=e.isDisabled(),K="".concat(h,"-node-content-wrapper");if(v){var N=l||g;t=N?d.createElement("span",{className:s("".concat(h,"-iconEle"),"".concat(h,"-icon__customize"))},"function"==typeof N?N(e.props):N):e.renderIcon()}else y&&p&&(t=e.renderIcon());n="function"==typeof i?i(u):k?k(u):i;var b=d.createElement("span",{className:"".concat(h,"-title")},n);return d.createElement("span",{ref:e.setSelectHandle,title:"string"==typeof i?i:"",className:s("".concat(K),"".concat(K,"-").concat(e.getNodeState()||"normal"),!m&&(c||o)&&"".concat(h,"-node-selected")),onMouseEnter:e.onMouseEnter,onMouseLeave:e.onMouseLeave,onContextMenu:e.onContextMenu,onClick:e.onSelectorClick,onDoubleClick:e.onSelectorDoubleClick},t,b,e.renderDropIndicator())},e.renderDropIndicator=function(){var t=e.props,n=t.disabled,o=t.eventKey,r=e.props.context,a=r.draggable,i=r.dropLevelOffset,d=r.dropPosition,s=r.prefixCls,c=r.indent,l=r.dropIndicatorRender,p=r.dragOverNodeKey,u=r.direction,f=!n&&!!a&&p===o,h=null!=c?c:e.cacheIndent;return e.cacheIndent=c,f?l({dropPosition:d,dropLevelOffset:i,indent:h,prefixCls:s,direction:u}):null},e}return v(o,[{key:"componentDidMount",value:function(){this.syncLoadData(this.props)}},{key:"componentDidUpdate",value:function(){this.syncLoadData(this.props)}},{key:"isSelectable",value:function(){var e=this.props.selectable,t=this.props.context.selectable;return"boolean"==typeof e?e:t}},{key:"render",value:function(){var e,t=this.props,n=t.eventKey,o=t.className,a=t.style,i=t.dragOver,p=t.dragOverGapTop,u=t.dragOverGapBottom,f=t.isLeaf,h=t.isStart,v=t.isEnd,y=t.expanded,k=t.selected,m=t.checked,K=t.halfChecked,N=t.loading,b=t.domRef,x=t.active;t.data;var E=t.onMouseMove,C=t.selectable,S=r(t,Y),D=this.props.context,w=D.prefixCls,P=D.filterTreeNode,O=D.keyEntities,L=D.dropContainerKey,T=D.dropTargetKey,M=D.draggingNodeKey,I=this.isDisabled(),A=g(S,{aria:!0,data:!0}),R=($(O,n)||{}).level,H=v[v.length-1],B=this.isDraggable(),j=!I&&B,G=M===n,U=void 0!==C?{"aria-selected":!!C}:void 0;return d.createElement("div",l({ref:b,className:s(o,"".concat(w,"-treenode"),(e={},c(e,"".concat(w,"-treenode-disabled"),I),c(e,"".concat(w,"-treenode-switcher-").concat(y?"open":"close"),!f),c(e,"".concat(w,"-treenode-checkbox-checked"),m),c(e,"".concat(w,"-treenode-checkbox-indeterminate"),K),c(e,"".concat(w,"-treenode-selected"),k),c(e,"".concat(w,"-treenode-loading"),N),c(e,"".concat(w,"-treenode-active"),x),c(e,"".concat(w,"-treenode-leaf-last"),H),c(e,"".concat(w,"-treenode-draggable"),B),c(e,"dragging",G),c(e,"drop-target",T===n),c(e,"drop-container",L===n),c(e,"drag-over",!I&&i),c(e,"drag-over-gap-top",!I&&p),c(e,"drag-over-gap-bottom",!I&&u),c(e,"filter-node",P&&P(F(this.props))),e)),style:a,draggable:j,"aria-grabbed":G,onDragStart:j?this.onDragStart:void 0,onDragEnter:B?this.onDragEnter:void 0,onDragOver:B?this.onDragOver:void 0,onDragLeave:B?this.onDragLeave:void 0,onDrop:B?this.onDrop:void 0,onDragEnd:B?this.onDragEnd:void 0,onMouseMove:E},U,A),d.createElement(X,{prefixCls:w,level:R,isStart:h,isEnd:v}),this.renderDragHandler(),this.renderSwitcher(),this.renderCheckbox(),this.renderSelector())}}]),o}(d.Component),ee=function(e){return d.createElement(W.Consumer,null,(function(t){return d.createElement(Q,l({},e,{context:t}))}))};ee.displayName="TreeNode",ee.isTreeNode=1;var te=["className","style","motion","motionNodes","motionType","onMotionStart","onMotionEnd","active","treeNodeRequiredProps"],ne=function(e,t){var n=e.className,o=e.style,a=e.motion,i=e.motionNodes,c=e.motionType,p=e.onMotionStart,u=e.onMotionEnd,f=e.active,h=e.treeNodeRequiredProps,v=r(e,te),g=d.useState(!0),K=y(g,2),N=K[0],b=K[1],x=d.useContext(W).prefixCls,E=i&&"hide"!==c;k((function(){i&&E!==N&&b(E)}),[i]);var C=d.useRef(!1),S=function(){i&&!C.current&&(C.current=!0,u())};!function(e,t){var n=d.useState(!1),o=y(n,2),r=o[0],a=o[1];d.useLayoutEffect((function(){if(r)return e(),function(){t()}}),[r]),d.useLayoutEffect((function(){return a(!0),function(){a(!1)}}),[])}((function(){i&&p()}),S);return i?d.createElement(m,l({ref:t,visible:N},a,{motionAppear:"show"===c,onVisibleChanged:function(e){E===e&&S()}}),(function(e,t){var n=e.className,o=e.style;return d.createElement("div",{ref:t,className:s("".concat(x,"-treenode-motion"),n),style:o},i.map((function(e){var t=l({},(q(e.data),e.data)),n=e.title,o=e.key,r=e.isStart,a=e.isEnd;delete t.children;var i=_(o,h);return d.createElement(ee,l({},t,i,{title:n,active:f,data:e.data,key:o,isStart:r,isEnd:a}))})))})):d.createElement(ee,l({domRef:t,className:n,style:o},v,{active:f}))};ne.displayName="MotionTreeNode";var oe=d.forwardRef(ne);function re(e,t,n){var o=e.findIndex((function(e){return e.key===n})),r=e[o+1],a=t.findIndex((function(e){return e.key===n}));if(r){var i=t.findIndex((function(e){return e.key===r.key}));return t.slice(a+1,i)}return t.slice(a+1)}var ae=["prefixCls","data","selectable","checkable","expandedKeys","selectedKeys","checkedKeys","loadedKeys","loadingKeys","halfCheckedKeys","keyEntities","disabled","dragging","dragOverNodeKey","dropPosition","motion","height","itemHeight","virtual","focusable","activeItem","focused","tabIndex","onKeyDown","onFocus","onBlur","onActiveChange","onListChangeStart","onListChangeEnd"],ie={width:0,height:0,display:"flex",overflow:"hidden",opacity:0,border:0,padding:0,margin:0},de=function(){},se="RC_TREE_MOTION_".concat(Math.random()),ce={key:se},le={key:se,level:0,index:0,pos:"0",node:ce,nodes:[ce]},pe={parent:null,children:[],pos:le.pos,data:ce,title:null,key:se,isStart:[],isEnd:[]};function ue(e,t,n,o){return!1!==t&&n?e.slice(0,Math.ceil(n/o)+1):e}function fe(e){return B(e.key,e.pos)}var he=d.forwardRef((function(e,t){var n=e.prefixCls,o=e.data;e.selectable,e.checkable;var a=e.expandedKeys,i=e.selectedKeys,s=e.checkedKeys,c=e.loadedKeys,p=e.loadingKeys,u=e.halfCheckedKeys,f=e.keyEntities,h=e.disabled,v=e.dragging,g=e.dragOverNodeKey,m=e.dropPosition,K=e.motion,N=e.height,b=e.itemHeight,x=e.virtual,E=e.focusable,C=e.activeItem,S=e.focused,D=e.tabIndex,w=e.onKeyDown,P=e.onFocus,O=e.onBlur,T=e.onActiveChange,$=e.onListChangeStart,M=e.onListChangeEnd,I=r(e,ae),A=d.useRef(null),R=d.useRef(null);d.useImperativeHandle(t,(function(){return{scrollTo:function(e){A.current.scrollTo(e)},getIndentWidth:function(){return R.current.offsetWidth}}}));var H=d.useState(a),j=y(H,2),G=j[0],U=j[1],z=d.useState(o),F=y(z,2),W=F[0],V=F[1],X=d.useState(o),Y=y(X,2),Z=Y[0],J=Y[1],Q=d.useState([]),ee=y(Q,2),te=ee[0],ne=ee[1],ce=d.useState(null),le=y(ce,2),he=le[0],ve=le[1],ge=d.useRef(o);function ye(){var e=ge.current;V(e),J(e),ne([]),ve(null),M()}ge.current=o,k((function(){U(a);var e=function(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:[],t=arguments.length>1&&void 0!==arguments[1]?arguments[1]:[],n=e.length,o=t.length;if(1!==Math.abs(n-o))return{add:!1,key:null};function r(e,t){var n=new Map;e.forEach((function(e){n.set(e,!0)}));var o=t.filter((function(e){return!n.has(e)}));return 1===o.length?o[0]:null}return n<o?{add:!0,key:r(e,t)}:{add:!1,key:r(t,e)}}(G,a);if(null!==e.key)if(e.add){var t=W.findIndex((function(t){return t.key===e.key})),n=ue(re(W,o,e.key),x,N,b),r=W.slice();r.splice(t+1,0,pe),J(r),ne(n),ve("show")}else{var i=o.findIndex((function(t){return t.key===e.key})),d=ue(re(o,W,e.key),x,N,b),s=o.slice();s.splice(i+1,0,pe),J(s),ne(d),ve("hide")}else W!==o&&(V(o),J(o))}),[a,o]),d.useEffect((function(){v||ye()}),[v]);var ke=K?Z:o,me={expandedKeys:a,selectedKeys:i,loadedKeys:c,loadingKeys:p,checkedKeys:s,halfCheckedKeys:u,dragOverNodeKey:g,dropPosition:m,keyEntities:f};return d.createElement(d.Fragment,null,S&&C&&d.createElement("span",{style:ie,"aria-live":"assertive"},function(e){for(var t=String(e.data.key),n=e;n.parent;)n=n.parent,t="".concat(n.data.key," > ").concat(t);return t}(C)),d.createElement("div",null,d.createElement("input",{style:ie,disabled:!1===E||h,tabIndex:!1!==E?D:null,onKeyDown:w,onFocus:P,onBlur:O,value:"",onChange:de,"aria-label":"for screen reader"})),d.createElement("div",{className:"".concat(n,"-treenode"),"aria-hidden":!0,style:{position:"absolute",pointerEvents:"none",visibility:"hidden",height:0,overflow:"hidden",border:0,padding:0}},d.createElement("div",{className:"".concat(n,"-indent")},d.createElement("div",{ref:R,className:"".concat(n,"-indent-unit")}))),d.createElement(L,l({},I,{data:ke,itemKey:fe,height:N,fullHeight:!1,virtual:x,itemHeight:b,prefixCls:"".concat(n,"-list"),ref:A,onVisibleChange:function(e,t){var n=new Set(e);t.filter((function(e){return!n.has(e)})).some((function(e){return fe(e)===se}))&&ye()}}),(function(e){var t=e.pos,n=l({},(q(e.data),e.data)),o=e.title,r=e.key,a=e.isStart,i=e.isEnd,s=B(r,t);delete n.key,delete n.children;var c=_(s,me);return d.createElement(oe,l({},n,c,{title:o,active:!!C&&r===C.key,pos:t,data:e.data,isStart:a,isEnd:i,motion:K,motionNodes:r===se?te:null,motionType:he,onMotionStart:$,onMotionEnd:ye,treeNodeRequiredProps:me,onMouseMove:function(){T(null)}}))})))}));function ve(e,t){if(!e)return[];var n=e.slice(),o=n.indexOf(t);return o>=0&&n.splice(o,1),n}function ge(e,t){var n=(e||[]).slice();return-1===n.indexOf(t)&&n.push(t),n}function ye(e){return e.split("-")}function ke(e,t){var n=[];return function e(){(arguments.length>0&&void 0!==arguments[0]?arguments[0]:[]).forEach((function(t){var o=t.key,r=t.children;n.push(o),e(r)}))}($(t,e).children),n}function me(e){if(e.parent){var t=ye(e.pos);return Number(t[t.length-1])===e.parent.children.length-1}return!1}function Ke(e,t,n,o,r,a,i,d,s,c){var l,p=e.clientX,u=e.clientY,f=e.target.getBoundingClientRect(),h=f.top,v=f.height,g=(("rtl"===c?-1:1)*(((null==r?void 0:r.x)||0)-p)-12)/o,y=$(d,n.props.eventKey);if(u<h+v/2){var k=i.findIndex((function(e){return e.key===y.key})),m=i[k<=0?0:k-1].key;y=$(d,m)}var K=y.key,N=y,b=y.key,x=0,E=0;if(!s.includes(K))for(var C=0;C<g&&me(y);C+=1)y=y.parent,E+=1;var S,D=t.props.data,w=y.node,P=!0;return S=ye(y.pos),0===Number(S[S.length-1])&&0===y.level&&u<h+v/2&&a({dragNode:D,dropNode:w,dropPosition:-1})&&y.key===n.props.eventKey?x=-1:(N.children||[]).length&&s.includes(b)?a({dragNode:D,dropNode:w,dropPosition:0})?x=0:P=!1:0===E?g>-1.5?a({dragNode:D,dropNode:w,dropPosition:1})?x=1:P=!1:a({dragNode:D,dropNode:w,dropPosition:0})?x=0:a({dragNode:D,dropNode:w,dropPosition:1})?x=1:P=!1:a({dragNode:D,dropNode:w,dropPosition:1})?x=1:P=!1,{dropPosition:x,dropLevelOffset:E,dropTargetKey:y.key,dropTargetPos:y.pos,dragOverNodeKey:b,dropContainerKey:0===x?null:(null===(l=y.parent)||void 0===l?void 0:l.key)||null,dropAllowed:P}}function Ne(e,t){if(e)return t.multiple?e.slice():e.length?[e[0]]:e}function be(n){if(!n)return null;var o;if(Array.isArray(n))o={checkedKeys:n,halfCheckedKeys:void 0};else{if("object"!==t(n))return e(!1,"`checkedKeys` is not an array or an object"),null;o={checkedKeys:n.checked||void 0,halfCheckedKeys:n.halfChecked||void 0}}return o}function xe(e,t){var n=new Set;function o(e){if(!n.has(e)){var r=$(t,e);if(r){n.add(e);var a=r.parent;r.node.disabled||a&&o(a.key)}}}return(e||[]).forEach((function(e){o(e)})),a(n)}he.displayName="NodeList";var Ee=function(o){p(i,o);var r=u(i);function i(){var t;f(this,i);for(var o=arguments.length,s=new Array(o),c=0;c<o;c++)s[c]=arguments[c];return(t=r.call.apply(r,[this].concat(s))).destroyed=!1,t.delayedDragEnterLogic=void 0,t.loadingRetryTimes={},t.state={keyEntities:{},indent:null,selectedKeys:[],checkedKeys:[],halfCheckedKeys:[],loadedKeys:[],loadingKeys:[],expandedKeys:[],draggingNodeKey:null,dragChildrenKeys:[],dropTargetKey:null,dropPosition:null,dropContainerKey:null,dropLevelOffset:null,dropTargetPos:null,dropAllowed:!0,dragOverNodeKey:null,treeData:[],flattenNodes:[],focused:!1,activeKey:null,listChanging:!1,prevProps:null,fieldNames:j()},t.dragStartMousePosition=null,t.dragNode=void 0,t.currentMouseOverDroppableNodeKey=null,t.listRef=d.createRef(),t.onNodeDragStart=function(e,n){var o=t.state,r=o.expandedKeys,a=o.keyEntities,i=t.props.onDragStart,d=n.props.eventKey;t.dragNode=n,t.dragStartMousePosition={x:e.clientX,y:e.clientY};var s=ve(r,d);t.setState({draggingNodeKey:d,dragChildrenKeys:ke(d,a),indent:t.listRef.current.getIndentWidth()}),t.setExpandedKeys(s),window.addEventListener("dragend",t.onWindowDragEnd),null==i||i({event:e,node:F(n.props)})},t.onNodeDragEnter=function(e,n){var o=t.state,r=o.expandedKeys,i=o.keyEntities,d=o.dragChildrenKeys,s=o.flattenNodes,c=o.indent,l=t.props,p=l.onDragEnter,u=l.onExpand,f=l.allowDrop,v=l.direction,g=n.props,y=g.pos,k=g.eventKey,m=h(t).dragNode;if(t.currentMouseOverDroppableNodeKey!==k&&(t.currentMouseOverDroppableNodeKey=k),m){var K=Ke(e,m,n,c,t.dragStartMousePosition,f,s,i,r,v),N=K.dropPosition,b=K.dropLevelOffset,x=K.dropTargetKey,E=K.dropContainerKey,C=K.dropTargetPos,S=K.dropAllowed,D=K.dragOverNodeKey;-1===d.indexOf(x)&&S?(t.delayedDragEnterLogic||(t.delayedDragEnterLogic={}),Object.keys(t.delayedDragEnterLogic).forEach((function(e){clearTimeout(t.delayedDragEnterLogic[e])})),m.props.eventKey!==n.props.eventKey&&(e.persist(),t.delayedDragEnterLogic[y]=window.setTimeout((function(){if(null!==t.state.draggingNodeKey){var o=a(r),d=$(i,n.props.eventKey);d&&(d.children||[]).length&&(o=ge(r,n.props.eventKey)),"expandedKeys"in t.props||t.setExpandedKeys(o),null==u||u(o,{node:F(n.props),expanded:!0,nativeEvent:e.nativeEvent})}}),800)),m.props.eventKey!==x||0!==b?(t.setState({dragOverNodeKey:D,dropPosition:N,dropLevelOffset:b,dropTargetKey:x,dropContainerKey:E,dropTargetPos:C,dropAllowed:S}),null==p||p({event:e,node:F(n.props),expandedKeys:r})):t.resetDragState()):t.resetDragState()}else t.resetDragState()},t.onNodeDragOver=function(e,n){var o=t.state,r=o.dragChildrenKeys,a=o.flattenNodes,i=o.keyEntities,d=o.expandedKeys,s=o.indent,c=t.props,l=c.onDragOver,p=c.allowDrop,u=c.direction,f=h(t).dragNode;if(f){var v=Ke(e,f,n,s,t.dragStartMousePosition,p,a,i,d,u),g=v.dropPosition,y=v.dropLevelOffset,k=v.dropTargetKey,m=v.dropContainerKey,K=v.dropAllowed,N=v.dropTargetPos,b=v.dragOverNodeKey;-1===r.indexOf(k)&&K&&(f.props.eventKey===k&&0===y?null===t.state.dropPosition&&null===t.state.dropLevelOffset&&null===t.state.dropTargetKey&&null===t.state.dropContainerKey&&null===t.state.dropTargetPos&&!1===t.state.dropAllowed&&null===t.state.dragOverNodeKey||t.resetDragState():g===t.state.dropPosition&&y===t.state.dropLevelOffset&&k===t.state.dropTargetKey&&m===t.state.dropContainerKey&&N===t.state.dropTargetPos&&K===t.state.dropAllowed&&b===t.state.dragOverNodeKey||t.setState({dropPosition:g,dropLevelOffset:y,dropTargetKey:k,dropContainerKey:m,dropTargetPos:N,dropAllowed:K,dragOverNodeKey:b}),null==l||l({event:e,node:F(n.props)}))}},t.onNodeDragLeave=function(e,n){t.currentMouseOverDroppableNodeKey!==n.props.eventKey||e.currentTarget.contains(e.relatedTarget)||(t.resetDragState(),t.currentMouseOverDroppableNodeKey=null);var o=t.props.onDragLeave;null==o||o({event:e,node:F(n.props)})},t.onWindowDragEnd=function(e){t.onNodeDragEnd(e,null,!0),window.removeEventListener("dragend",t.onWindowDragEnd)},t.onNodeDragEnd=function(e,n){var o=t.props.onDragEnd;t.setState({dragOverNodeKey:null}),t.cleanDragState(),null==o||o({event:e,node:F(n.props)}),t.dragNode=null,window.removeEventListener("dragend",t.onWindowDragEnd)},t.onNodeDrop=function(o,r){var a,i=arguments.length>2&&void 0!==arguments[2]&&arguments[2],d=t.state,s=d.dragChildrenKeys,c=d.dropPosition,l=d.dropTargetKey,p=d.dropTargetPos;if(d.dropAllowed){var u=t.props.onDrop;if(t.setState({dragOverNodeKey:null}),t.cleanDragState(),null!==l){var f=n(n({},_(l,t.getTreeNodeRequiredProps())),{},{active:(null===(a=t.getActiveItem())||void 0===a?void 0:a.key)===l,data:$(t.state.keyEntities,l).node}),h=-1!==s.indexOf(l);e(!h,"Can not drop to dragNode's children node. This is a bug of rc-tree. Please report an issue.");var v=ye(p),g={event:o,node:F(f),dragNode:t.dragNode?F(t.dragNode.props):null,dragNodesKeys:[t.dragNode.props.eventKey].concat(s),dropToGap:0!==c,dropPosition:c+Number(v[v.length-1])};i||null==u||u(g),t.dragNode=null}}},t.cleanDragState=function(){null!==t.state.draggingNodeKey&&t.setState({draggingNodeKey:null,dropPosition:null,dropContainerKey:null,dropTargetKey:null,dropLevelOffset:null,dropAllowed:!0,dragOverNodeKey:null}),t.dragStartMousePosition=null,t.currentMouseOverDroppableNodeKey=null},t.triggerExpandActionExpand=function(e,o){var r=t.state,a=r.expandedKeys,i=r.flattenNodes,d=o.expanded,s=o.key;if(!(o.isLeaf||e.shiftKey||e.metaKey||e.ctrlKey)){var c=i.filter((function(e){return e.key===s}))[0],l=F(n(n({},_(s,t.getTreeNodeRequiredProps())),{},{data:c.data}));t.setExpandedKeys(d?ve(a,s):ge(a,s)),t.onNodeExpand(e,l)}},t.onNodeClick=function(e,n){var o=t.props,r=o.onClick;"click"===o.expandAction&&t.triggerExpandActionExpand(e,n),null==r||r(e,n)},t.onNodeDoubleClick=function(e,n){var o=t.props,r=o.onDoubleClick;"doubleClick"===o.expandAction&&t.triggerExpandActionExpand(e,n),null==r||r(e,n)},t.onNodeSelect=function(e,n){var o=t.state.selectedKeys,r=t.state,a=r.keyEntities,i=r.fieldNames,d=t.props,s=d.onSelect,c=d.multiple,l=n.selected,p=n[i.key],u=!l,f=(o=u?c?ge(o,p):[p]:ve(o,p)).map((function(e){var t=$(a,e);return t?t.node:null})).filter((function(e){return e}));t.setUncontrolledState({selectedKeys:o}),null==s||s(o,{event:"select",selected:u,node:n,selectedNodes:f,nativeEvent:e.nativeEvent})},t.onNodeCheck=function(e,n,o){var r,i=t.state,d=i.keyEntities,s=i.checkedKeys,c=i.halfCheckedKeys,l=t.props,p=l.checkStrictly,u=l.onCheck,f=n.key,h={event:"check",node:n,checked:o,nativeEvent:e.nativeEvent};if(p){var v=o?ge(s,f):ve(s,f);r={checked:v,halfChecked:ve(c,f)},h.checkedNodes=v.map((function(e){return $(d,e)})).filter((function(e){return e})).map((function(e){return e.node})),t.setUncontrolledState({checkedKeys:v})}else{var g=A([].concat(a(s),[f]),!0,d),y=g.checkedKeys,k=g.halfCheckedKeys;if(!o){var m=new Set(y);m.delete(f);var K=A(Array.from(m),{checked:!1,halfCheckedKeys:k},d);y=K.checkedKeys,k=K.halfCheckedKeys}r=y,h.checkedNodes=[],h.checkedNodesPositions=[],h.halfCheckedKeys=k,y.forEach((function(e){var t=$(d,e);if(t){var n=t.node,o=t.pos;h.checkedNodes.push(n),h.checkedNodesPositions.push({node:n,pos:o})}})),t.setUncontrolledState({checkedKeys:y},!1,{halfCheckedKeys:k})}null==u||u(r,h)},t.onNodeLoad=function(n){var o=n.key,r=new Promise((function(r,a){t.setState((function(i){var d=i.loadedKeys,s=void 0===d?[]:d,c=i.loadingKeys,l=void 0===c?[]:c,p=t.props,u=p.loadData,f=p.onLoad;return u&&-1===s.indexOf(o)&&-1===l.indexOf(o)?(u(n).then((function(){var e=ge(t.state.loadedKeys,o);null==f||f(e,{event:"load",node:n}),t.setUncontrolledState({loadedKeys:e}),t.setState((function(e){return{loadingKeys:ve(e.loadingKeys,o)}})),r()})).catch((function(n){if(t.setState((function(e){return{loadingKeys:ve(e.loadingKeys,o)}})),t.loadingRetryTimes[o]=(t.loadingRetryTimes[o]||0)+1,t.loadingRetryTimes[o]>=10){var i=t.state.loadedKeys;e(!1,"Retry for `loadData` many times but still failed. No more retry."),t.setUncontrolledState({loadedKeys:ge(i,o)}),r()}a(n)})),{loadingKeys:ge(l,o)}):null}))}));return r.catch((function(){})),r},t.onNodeMouseEnter=function(e,n){var o=t.props.onMouseEnter;null==o||o({event:e,node:n})},t.onNodeMouseLeave=function(e,n){var o=t.props.onMouseLeave;null==o||o({event:e,node:n})},t.onNodeContextMenu=function(e,n){var o=t.props.onRightClick;o&&(e.preventDefault(),o({event:e,node:n}))},t.onFocus=function(){var e=t.props.onFocus;t.setState({focused:!0});for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)},t.onBlur=function(){var e=t.props.onBlur;t.setState({focused:!1}),t.onActiveChange(null);for(var n=arguments.length,o=new Array(n),r=0;r<n;r++)o[r]=arguments[r];null==e||e.apply(void 0,o)},t.getTreeNodeRequiredProps=function(){var e=t.state;return{expandedKeys:e.expandedKeys||[],selectedKeys:e.selectedKeys||[],loadedKeys:e.loadedKeys||[],loadingKeys:e.loadingKeys||[],checkedKeys:e.checkedKeys||[],halfCheckedKeys:e.halfCheckedKeys||[],dragOverNodeKey:e.dragOverNodeKey,dropPosition:e.dropPosition,keyEntities:e.keyEntities}},t.setExpandedKeys=function(e){var n=t.state,o=U(n.treeData,e,n.fieldNames);t.setUncontrolledState({expandedKeys:e,flattenNodes:o},!0)},t.onNodeExpand=function(n,o){var r=t.state.expandedKeys,a=t.state,i=a.listChanging,d=a.fieldNames,s=t.props,c=s.onExpand,l=s.loadData,p=o.expanded,u=o[d.key];if(!i){var f=r.indexOf(u),h=!p;if(e(p&&-1!==f||!p&&-1===f,"Expand state not sync with index check"),r=h?ge(r,u):ve(r,u),t.setExpandedKeys(r),null==c||c(r,{node:o,expanded:h,nativeEvent:n.nativeEvent}),h&&l){var v=t.onNodeLoad(o);v&&v.then((function(){var e=U(t.state.treeData,r,d);t.setUncontrolledState({flattenNodes:e})})).catch((function(){var e=ve(t.state.expandedKeys,u);t.setExpandedKeys(e)}))}}},t.onListChangeStart=function(){t.setUncontrolledState({listChanging:!0})},t.onListChangeEnd=function(){setTimeout((function(){t.setUncontrolledState({listChanging:!1})}))},t.onActiveChange=function(e){var n=t.state.activeKey,o=t.props.onActiveChange;n!==e&&(t.setState({activeKey:e}),null!==e&&t.scrollTo({key:e}),null==o||o(e))},t.getActiveItem=function(){var e=t.state,n=e.activeKey,o=e.flattenNodes;return null===n?null:o.find((function(e){return e.key===n}))||null},t.offsetActiveKey=function(e){var n=t.state,o=n.flattenNodes,r=n.activeKey,a=o.findIndex((function(e){return e.key===r}));-1===a&&e<0&&(a=o.length);var i=o[a=(a+e+o.length)%o.length];if(i){var d=i.key;t.onActiveChange(d)}else t.onActiveChange(null)},t.onKeyDown=function(e){var o=t.state,r=o.activeKey,a=o.expandedKeys,i=o.checkedKeys,d=o.fieldNames,s=t.props,c=s.onKeyDown,l=s.checkable,p=s.selectable;switch(e.which){case K.UP:t.offsetActiveKey(-1),e.preventDefault();break;case K.DOWN:t.offsetActiveKey(1),e.preventDefault()}var u=t.getActiveItem();if(u&&u.data){var f=t.getTreeNodeRequiredProps(),h=!1===u.data.isLeaf||!!(u.data[d.children]||[]).length,v=F(n(n({},_(r,f)),{},{data:u.data,active:!0}));switch(e.which){case K.LEFT:h&&a.includes(r)?t.onNodeExpand({},v):u.parent&&t.onActiveChange(u.parent.key),e.preventDefault();break;case K.RIGHT:h&&!a.includes(r)?t.onNodeExpand({},v):u.children&&u.children.length&&t.onActiveChange(u.children[0].key),e.preventDefault();break;case K.ENTER:case K.SPACE:!l||v.disabled||!1===v.checkable||v.disableCheckbox?l||!p||v.disabled||!1===v.selectable||t.onNodeSelect({},v):t.onNodeCheck({},v,!i.includes(r))}}null==c||c(e)},t.setUncontrolledState=function(e){var o=arguments.length>1&&void 0!==arguments[1]&&arguments[1],r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null;if(!t.destroyed){var a=!1,i=!0,d={};Object.keys(e).forEach((function(n){n in t.props?i=!1:(a=!0,d[n]=e[n])})),!a||o&&!i||t.setState(n(n({},d),r))}},t.scrollTo=function(e){t.listRef.current.scrollTo(e)},t}return v(i,[{key:"componentDidMount",value:function(){this.destroyed=!1,this.onUpdated()}},{key:"componentDidUpdate",value:function(){this.onUpdated()}},{key:"onUpdated",value:function(){var e=this.props.activeKey;void 0!==e&&e!==this.state.activeKey&&(this.setState({activeKey:e}),null!==e&&this.scrollTo({key:e}))}},{key:"componentWillUnmount",value:function(){window.removeEventListener("dragend",this.onWindowDragEnd),this.destroyed=!0}},{key:"resetDragState",value:function(){this.setState({dragOverNodeKey:null,dropPosition:null,dropLevelOffset:null,dropTargetKey:null,dropContainerKey:null,dropTargetPos:null,dropAllowed:!1})}},{key:"render",value:function(){var e,n,o=this.state,r=o.focused,a=o.flattenNodes,i=o.keyEntities,p=o.draggingNodeKey,u=o.activeKey,f=o.dropLevelOffset,h=o.dropContainerKey,v=o.dropTargetKey,y=o.dropPosition,k=o.dragOverNodeKey,m=o.indent,K=this.props,N=K.prefixCls,b=K.className,x=K.style,E=K.showLine,C=K.focusable,S=K.tabIndex,D=void 0===S?0:S,w=K.selectable,P=K.showIcon,O=K.icon,L=K.switcherIcon,T=K.draggable,$=K.checkable,M=K.checkStrictly,I=K.disabled,A=K.motion,R=K.loadData,H=K.filterTreeNode,B=K.height,j=K.itemHeight,G=K.virtual,U=K.titleRender,z=K.dropIndicatorRender,_=K.onContextMenu,F=K.onScroll,q=K.direction,V=K.rootClassName,X=K.rootStyle,Y=g(this.props,{aria:!0,data:!0});return T&&(n="object"===t(T)?T:"function"==typeof T?{nodeDraggable:T}:{}),d.createElement(W.Provider,{value:{prefixCls:N,selectable:w,showIcon:P,icon:O,switcherIcon:L,draggable:n,draggingNodeKey:p,checkable:$,checkStrictly:M,disabled:I,keyEntities:i,dropLevelOffset:f,dropContainerKey:h,dropTargetKey:v,dropPosition:y,dragOverNodeKey:k,indent:m,direction:q,dropIndicatorRender:z,loadData:R,filterTreeNode:H,titleRender:U,onNodeClick:this.onNodeClick,onNodeDoubleClick:this.onNodeDoubleClick,onNodeExpand:this.onNodeExpand,onNodeSelect:this.onNodeSelect,onNodeCheck:this.onNodeCheck,onNodeLoad:this.onNodeLoad,onNodeMouseEnter:this.onNodeMouseEnter,onNodeMouseLeave:this.onNodeMouseLeave,onNodeContextMenu:this.onNodeContextMenu,onNodeDragStart:this.onNodeDragStart,onNodeDragEnter:this.onNodeDragEnter,onNodeDragOver:this.onNodeDragOver,onNodeDragLeave:this.onNodeDragLeave,onNodeDragEnd:this.onNodeDragEnd,onNodeDrop:this.onNodeDrop}},d.createElement("div",{role:"tree",className:s(N,b,V,(e={},c(e,"".concat(N,"-show-line"),E),c(e,"".concat(N,"-focused"),r),c(e,"".concat(N,"-active-focused"),null!==u),e)),style:X},d.createElement(he,l({ref:this.listRef,prefixCls:N,style:x,data:a,disabled:I,selectable:w,checkable:!!$,motion:A,dragging:null!==p,height:B,itemHeight:j,virtual:G,focusable:C,focused:r,tabIndex:D,activeItem:this.getActiveItem(),onFocus:this.onFocus,onBlur:this.onBlur,onKeyDown:this.onKeyDown,onActiveChange:this.onActiveChange,onListChangeStart:this.onListChangeStart,onListChangeEnd:this.onListChangeEnd,onContextMenu:_,onScroll:F},this.getTreeNodeRequiredProps(),Y))))}}],[{key:"getDerivedStateFromProps",value:function(t,o){var r,a=o.prevProps,i={prevProps:t};function d(e){return!a&&e in t||a&&a[e]!==t[e]}var s=o.fieldNames;if(d("fieldNames")&&(s=j(t.fieldNames),i.fieldNames=s),d("treeData")?r=t.treeData:d("children")&&(e(!1,"`children` of Tree is deprecated. Please use `treeData` instead."),r=G(t.children)),r){i.treeData=r;var l=z(r,{fieldNames:s});i.keyEntities=n(c({},se,le),l.keyEntities)}var p,u=i.keyEntities||o.keyEntities;if(d("expandedKeys")||a&&d("autoExpandParent"))i.expandedKeys=t.autoExpandParent||!a&&t.defaultExpandParent?xe(t.expandedKeys,u):t.expandedKeys;else if(!a&&t.defaultExpandAll){var f=n({},u);delete f[se],i.expandedKeys=Object.keys(f).map((function(e){return f[e].key}))}else!a&&t.defaultExpandedKeys&&(i.expandedKeys=t.autoExpandParent||t.defaultExpandParent?xe(t.defaultExpandedKeys,u):t.defaultExpandedKeys);if(i.expandedKeys||delete i.expandedKeys,r||i.expandedKeys){var h=U(r||o.treeData,i.expandedKeys||o.expandedKeys,s);i.flattenNodes=h}if((t.selectable&&(d("selectedKeys")?i.selectedKeys=Ne(t.selectedKeys,t):!a&&t.defaultSelectedKeys&&(i.selectedKeys=Ne(t.defaultSelectedKeys,t))),t.checkable)&&(d("checkedKeys")?p=be(t.checkedKeys)||{}:!a&&t.defaultCheckedKeys?p=be(t.defaultCheckedKeys)||{}:r&&(p=be(t.checkedKeys)||{checkedKeys:o.checkedKeys,halfCheckedKeys:o.halfCheckedKeys}),p)){var v=p,g=v.checkedKeys,y=void 0===g?[]:g,k=v.halfCheckedKeys,m=void 0===k?[]:k;if(!t.checkStrictly){var K=A(y,!0,u);y=K.checkedKeys,m=K.halfCheckedKeys}i.checkedKeys=y,i.halfCheckedKeys=m}return d("loadedKeys")&&(i.loadedKeys=t.loadedKeys),i}}]),i}(d.Component);Ee.defaultProps={prefixCls:"rc-tree",showLine:!1,showIcon:!0,selectable:!0,multiple:!1,checkable:!1,disabled:!1,checkStrictly:!1,draggable:!1,defaultExpandParent:!0,autoExpandParent:!1,defaultExpandAll:!1,defaultExpandedKeys:[],defaultCheckedKeys:[],defaultSelectedKeys:[],dropIndicatorRender:function(e){var t=e.dropPosition,n=e.dropLevelOffset,o=e.indent,r={pointerEvents:"none",position:"absolute",right:0,backgroundColor:"red",height:2};switch(t){case-1:r.top=0,r.left=-n*o;break;case 1:r.bottom=0,r.left=-n*o;break;case 0:r.bottom=0,r.left=o}return d.createElement("div",{style:r})},allowDrop:function(){return!0},expandAction:!1},Ee.TreeNode=ee;const Ce={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M854.6 288.6L639.4 73.4c-6-6-14.1-9.4-22.6-9.4H192c-17.7 0-32 14.3-32 32v832c0 17.7 14.3 32 32 32h640c17.7 0 32-14.3 32-32V311.3c0-8.5-3.4-16.7-9.4-22.7zM790.2 326H602V137.8L790.2 326zm1.8 562H232V136h302v216a42 42 0 0042 42h216v494z"}}]},name:"file",theme:"outlined"};var Se=function(e,t){return d.createElement(N,l({},e,{ref:t,icon:Ce}))};const De=d.forwardRef(Se),we=new b("ant-tree-node-fx-do-not-use",{"0%":{opacity:0},"100%":{opacity:1}}),Pe=(e,t)=>({[`.${e}-switcher-icon`]:{display:"inline-block",fontSize:10,verticalAlign:"baseline",svg:{transition:`transform ${t.motionDurationSlow}`}}}),Oe=(e,t)=>({[`.${e}-drop-indicator`]:{position:"absolute",zIndex:1,height:2,backgroundColor:t.colorPrimary,borderRadius:1,pointerEvents:"none","&:after":{position:"absolute",top:-3,insetInlineStart:-6,width:8,height:8,backgroundColor:"transparent",border:`${t.lineWidthBold}px solid ${t.colorPrimary}`,borderRadius:"50%",content:'""'}}}),Le=(e,t)=>{const{treeCls:n,treeNodeCls:o,treeNodePadding:r,titleHeight:a,nodeSelectedBg:i,nodeHoverBg:d}=t,s=t.paddingXS;return{[n]:Object.assign(Object.assign({},S(t)),{background:t.colorBgContainer,borderRadius:t.borderRadius,transition:`background-color ${t.motionDurationSlow}`,[`&${n}-rtl`]:{[`${n}-switcher`]:{"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(90deg)"}}}}},[`&-focused:not(:hover):not(${n}-active-focused)`]:Object.assign({},D(t)),[`${n}-list-holder-inner`]:{alignItems:"flex-start"},[`&${n}-block-node`]:{[`${n}-list-holder-inner`]:{alignItems:"stretch",[`${n}-node-content-wrapper`]:{flex:"auto"},[`${o}.dragging`]:{position:"relative","&:after":{position:"absolute",top:0,insetInlineEnd:0,bottom:r,insetInlineStart:0,border:`1px solid ${t.colorPrimary}`,opacity:0,animationName:we,animationDuration:t.motionDurationSlow,animationPlayState:"running",animationFillMode:"forwards",content:'""',pointerEvents:"none"}}}},[`${o}`]:{display:"flex",alignItems:"flex-start",padding:`0 0 ${r}px 0`,outline:"none","&-rtl":{direction:"rtl"},"&-disabled":{[`${n}-node-content-wrapper`]:{color:t.colorTextDisabled,cursor:"not-allowed","&:hover":{background:"transparent"}}},[`&-active ${n}-node-content-wrapper`]:Object.assign({},D(t)),[`&:not(${o}-disabled).filter-node ${n}-title`]:{color:"inherit",fontWeight:500},"&-draggable":{[`${n}-draggable-icon`]:{flexShrink:0,width:a,lineHeight:`${a}px`,textAlign:"center",visibility:"visible",opacity:.2,transition:`opacity ${t.motionDurationSlow}`,[`${o}:hover &`]:{opacity:.45}},[`&${o}-disabled`]:{[`${n}-draggable-icon`]:{visibility:"hidden"}}}},[`${n}-indent`]:{alignSelf:"stretch",whiteSpace:"nowrap",userSelect:"none","&-unit":{display:"inline-block",width:a}},[`${n}-draggable-icon`]:{visibility:"hidden"},[`${n}-switcher`]:Object.assign(Object.assign({},Pe(e,t)),{position:"relative",flex:"none",alignSelf:"stretch",width:a,margin:0,lineHeight:`${a}px`,textAlign:"center",cursor:"pointer",userSelect:"none","&-noop":{cursor:"default"},"&_close":{[`${n}-switcher-icon`]:{svg:{transform:"rotate(-90deg)"}}},"&-loading-icon":{color:t.colorPrimary},"&-leaf-line":{position:"relative",zIndex:1,display:"inline-block",width:"100%",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:a/2,bottom:-r,marginInlineStart:-1,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&:after":{position:"absolute",width:a/2*.8,height:a/2,borderBottom:`1px solid ${t.colorBorder}`,content:'""'}}}),[`${n}-checkbox`]:{top:"initial",marginInlineEnd:s,alignSelf:"flex-start",marginTop:t.marginXXS},[`${n}-node-content-wrapper, ${n}-checkbox + span`]:{position:"relative",zIndex:"auto",minHeight:a,margin:0,padding:`0 ${t.paddingXS/2}px`,color:"inherit",lineHeight:`${a}px`,background:"transparent",borderRadius:t.borderRadius,cursor:"pointer",transition:`all ${t.motionDurationMid}, border 0s, line-height 0s, box-shadow 0s`,"&:hover":{backgroundColor:d},[`&${n}-node-selected`]:{backgroundColor:i},[`${n}-iconEle`]:{display:"inline-block",width:a,height:a,lineHeight:`${a}px`,textAlign:"center",verticalAlign:"top","&:empty":{display:"none"}}},[`${n}-unselectable ${n}-node-content-wrapper:hover`]:{backgroundColor:"transparent"},[`${n}-node-content-wrapper`]:Object.assign({lineHeight:`${a}px`,userSelect:"none"},Oe(e,t)),[`${o}.drop-container`]:{"> [draggable]":{boxShadow:`0 0 0 2px ${t.colorPrimary}`}},"&-show-line":{[`${n}-indent`]:{"&-unit":{position:"relative",height:"100%","&:before":{position:"absolute",top:0,insetInlineEnd:a/2,bottom:-r,borderInlineEnd:`1px solid ${t.colorBorder}`,content:'""'},"&-end":{"&:before":{display:"none"}}}},[`${n}-switcher`]:{background:"transparent","&-line-icon":{verticalAlign:"-0.15em"}}},[`${o}-leaf-last`]:{[`${n}-switcher`]:{"&-leaf-line":{"&:before":{top:"auto !important",bottom:"auto !important",height:a/2+"px !important"}}}}})}},Te=e=>{const{treeCls:t,treeNodeCls:n,treeNodePadding:o,directoryNodeSelectedBg:r,directoryNodeSelectedColor:a}=e;return{[`${t}${t}-directory`]:{[n]:{position:"relative","&:before":{position:"absolute",top:0,insetInlineEnd:0,bottom:o,insetInlineStart:0,transition:`background-color ${e.motionDurationMid}`,content:'""',pointerEvents:"none"},"&:hover":{"&:before":{background:e.controlItemBgHover}},"> *":{zIndex:1},[`${t}-switcher`]:{transition:`color ${e.motionDurationMid}`},[`${t}-node-content-wrapper`]:{borderRadius:0,userSelect:"none","&:hover":{background:"transparent"},[`&${t}-node-selected`]:{color:a,background:"transparent"}},"&-selected":{"\n            &:hover::before,\n            &::before\n          ":{background:r},[`${t}-switcher`]:{color:a},[`${t}-node-content-wrapper`]:{color:a,background:"transparent"}}}}}},$e=(e,t)=>{const n=`.${e}`,o=`${n}-treenode`,r=t.paddingXS/2,a=C(t,{treeCls:n,treeNodeCls:o,treeNodePadding:r});return[Le(e,a),Te(a)]},Me=e=>{const{controlHeightSM:t}=e;return{titleHeight:t,nodeHoverBg:e.controlItemBgHover,nodeSelectedBg:e.controlItemBgActive}},Ie=x("Tree",((e,t)=>{let{prefixCls:n}=t;return[{[e.componentCls]:T(`${n}-checkbox`,e)},$e(n,e),E(e)]}),(e=>{const{colorTextLightSolid:t,colorPrimary:n}=e;return Object.assign(Object.assign({},Me(e)),{directoryNodeSelectedColor:t,directoryNodeSelectedBg:n})}));const Ae={icon:{tag:"svg",attrs:{viewBox:"0 0 1024 1024",focusable:"false"},children:[{tag:"path",attrs:{d:"M840.4 300H183.6c-19.7 0-30.7 20.8-18.5 35l328.4 380.8c9.4 10.9 27.5 10.9 37 0L858.9 335c12.2-14.2 1.2-35-18.5-35z"}}]},name:"caret-down",theme:"filled"};var Re=function(e,t){return d.createElement(N,l({},e,{ref:t,icon:Ae}))};const He=d.forwardRef(Re);const Be={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h368c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"minus-square",theme:"outlined"};var je=function(e,t){return d.createElement(N,l({},e,{ref:t,icon:Be}))};const Ge=d.forwardRef(je);const Ue={icon:{tag:"svg",attrs:{viewBox:"64 64 896 896",focusable:"false"},children:[{tag:"path",attrs:{d:"M328 544h152v152c0 4.4 3.6 8 8 8h48c4.4 0 8-3.6 8-8V544h152c4.4 0 8-3.6 8-8v-48c0-4.4-3.6-8-8-8H544V328c0-4.4-3.6-8-8-8h-48c-4.4 0-8 3.6-8 8v152H328c-4.4 0-8 3.6-8 8v48c0 4.4 3.6 8 8 8z"}},{tag:"path",attrs:{d:"M880 112H144c-17.7 0-32 14.3-32 32v736c0 17.7 14.3 32 32 32h736c17.7 0 32-14.3 32-32V144c0-17.7-14.3-32-32-32zm-40 728H184V184h656v656z"}}]},name:"plus-square",theme:"outlined"};var ze=function(e,t){return d.createElement(N,l({},e,{ref:t,icon:Ue}))};const _e=d.forwardRef(ze),Fe=e=>{const{prefixCls:t,switcherIcon:n,treeNodeProps:o,showLine:r}=e,{isLeaf:a,expanded:i,loading:c}=o;if(c)return d.createElement(w,{className:`${t}-switcher-loading-icon`});let l;if(r&&"object"==typeof r&&(l=r.showLeafIcon),a){if(!r)return null;if("boolean"!=typeof l&&l){const e="function"==typeof l?l(o):l,n=`${t}-switcher-line-custom-icon`;return P(e)?O(e,{className:s(e.props.className||"",n)}):e}return l?d.createElement(De,{className:`${t}-switcher-line-icon`}):d.createElement("span",{className:`${t}-switcher-leaf-line`})}const p=`${t}-switcher-icon`,u="function"==typeof n?n(o):n;return P(u)?O(u,{className:s(u.props.className||"",p)}):void 0!==u?u:r?i?d.createElement(Ge,{className:`${t}-switcher-line-icon`}):d.createElement(_e,{className:`${t}-switcher-line-icon`}):d.createElement(He,{className:p})};export{ee as C,De as F,Fe as S,Ee as T,A as a,ve as b,z as c,ge as d,xe as e,G as f,$e as g,Me as i,Ie as u};
